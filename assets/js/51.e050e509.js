(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{370:function(s,a,e){"use strict";e.r(a);var n=e(42),t=Object(n.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h4",{attrs:{id:"redis-的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#redis-的使用"}},[s._v("#")]),s._v(" redis 的使用")]),s._v(" "),e("h5",{attrs:{id:"mac-os-安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mac-os-安装"}},[s._v("#")]),s._v(" mac os 安装")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("brew "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" redis\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("完成后可以使用下面的命令启动 redis 服务器")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("brew services start redis\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 或者")]),s._v("\nredis-server /usr/local/etc/redis.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("h5",{attrs:{id:"搭建-redis-集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#搭建-redis-集群"}},[s._v("#")]),s._v(" 搭建 redis 集群")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("\nredis-server\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#创建slave")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" redis\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /usr/local/etc/redis.config ./redis\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# redis.config文件的端口号，然后添加slaveof localhost 6379")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" redis.conf\n\nredis-serve ./redis.conf\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("连接 master")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#connect")]),s._v("\nredis-cli -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6369")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看关系")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("INFO replication\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#设置数据")]),s._v("\n\nSET key value\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看数据")]),s._v("\n\nGET key\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("连接 slave0")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#connect")]),s._v("\nredis-cli -p "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("16369")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看关系")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("INFO replication\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# master和slave可以及时同步数据")]),s._v("\nGET key\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h5",{attrs:{id:"主从切换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主从切换"}},[s._v("#")]),s._v(" 主从切换")]),s._v(" "),e("p",[s._v("1.从库的 config 文件去掉 slaveof localhost 6379 重新启动下 2.主库设置为 16379 的从库")])])}),[],!1,null,null,null);a.default=t.exports}}]);