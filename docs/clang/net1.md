#### 网络基础

![3277183a80d9beda2994b815cc7e956f](/clang/cs.png)

server:服务器中是软件和硬件的结合，硬件是机器，软件是运行在硬件之上提供服务器的。

cs结构是指client-server,后边出现的brower-server结构本质上还是cs结构。


客户端和服务器之间通过网络连接起来，为了让整个网络之间可以相互通信，需要制定相应的标准，这个标准就是tcp/ip协议蔟。为了对复杂的网络进行实现，该协议将网络进行分层实现，不同的层之间是透明的，各自实现自己的功能。

一般分为四层或者五层：
![f08c060a87ccc2985950d4080fe7cb23](/clang/协议分层.png)

四层：应用层、传输层、网络层、链路层
五层：应用层、传输层、网络层、数据链路层、物理层

物理层：制定一些电器标准，如水晶头的大小。
数据链路层：数据链路层是对物理层进行抽象，规定了通讯的最小单位是网帧，有很多不同的网帧，如以太网帧，令牌环网帧。
以太网网帧结构：
![86a083467e68b0287909e2fd04a94156](/clang/RFC894以太网帧.png)

其中的目的地址和原地址占6个字节，是网卡的硬件地址（mac地址）。
类型的确定数据部分的内容，当数据部分小于46个字节，用PAD部分来填充。

如何查看自己的ip地址。
```shell
sudo ifconfig 

192.168.1.111
```
127.0.0.1 本地环回地址，常用来检测机器本身的网络设备是否正常，它代表的是本机的ip地址。
ip地址占四个字节。mac地址是网卡的物理地址，ip地址是网卡的逻辑地址。

以太网帧经过以太网处理程序处理后将数据部分交给上层的网络层。

![5d359685c4832dc03f420668a2a7d2cd](/clang/以太网数据分用过程.png)

网络层的ip数据报格式：

![e4ac7df0fce40e88381515c215da2177](/clang/IP报文格式.png)

除了数据部分都是ip数据报的头部。运输层会将ip数据包的的数据部分交给运输层去处理，
![6063dfff3274123e7542f9b911c493d5](/clang/tcp包首部.png)

tcp头部的端口用来标记计算机中的应用程序，提供服务的应用程序要监听对应的端口号，运输层根据tcp报文中的端口号将数据交给上层的应用。


计算机通过网络交换数据，并不是应用层和应用层直接交换数据，而是上层把数据处理完交给下层，下层继续处理，最终在物理层传输交给另一个电脑的物理层，在将数据层层处理后交给应用层。


![3c0f43e00a367de644e3825bf948acf2](/clang/传输过程.png)










