<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>复习:uc1 | yiluhuakai</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.9b56a05a.js" as="script"><link rel="preload" href="/assets/js/2.b22280cb.js" as="script"><link rel="preload" href="/assets/js/20.d175ff74.js" as="script"><link rel="prefetch" href="/assets/js/10.413ab2ab.js"><link rel="prefetch" href="/assets/js/100.2d785741.js"><link rel="prefetch" href="/assets/js/101.a9fd3349.js"><link rel="prefetch" href="/assets/js/11.99f54ddd.js"><link rel="prefetch" href="/assets/js/12.c46f64f3.js"><link rel="prefetch" href="/assets/js/13.6add00c5.js"><link rel="prefetch" href="/assets/js/14.40115781.js"><link rel="prefetch" href="/assets/js/15.c3827c6c.js"><link rel="prefetch" href="/assets/js/16.304d275d.js"><link rel="prefetch" href="/assets/js/17.006e2fe4.js"><link rel="prefetch" href="/assets/js/18.7f93828f.js"><link rel="prefetch" href="/assets/js/19.a72c6116.js"><link rel="prefetch" href="/assets/js/21.7092a034.js"><link rel="prefetch" href="/assets/js/22.1419ba41.js"><link rel="prefetch" href="/assets/js/23.ce5e3c1b.js"><link rel="prefetch" href="/assets/js/24.9f9edaa3.js"><link rel="prefetch" href="/assets/js/25.a57ae5dc.js"><link rel="prefetch" href="/assets/js/26.5ba697f1.js"><link rel="prefetch" href="/assets/js/27.9ecaa5dc.js"><link rel="prefetch" href="/assets/js/28.290c65fe.js"><link rel="prefetch" href="/assets/js/29.bdbc3eeb.js"><link rel="prefetch" href="/assets/js/3.ac44586b.js"><link rel="prefetch" href="/assets/js/30.6f37d998.js"><link rel="prefetch" href="/assets/js/31.b1ac1238.js"><link rel="prefetch" href="/assets/js/32.024f8182.js"><link rel="prefetch" href="/assets/js/33.202e11b5.js"><link rel="prefetch" href="/assets/js/34.e755ffc0.js"><link rel="prefetch" href="/assets/js/35.376b8f63.js"><link rel="prefetch" href="/assets/js/36.56735f24.js"><link rel="prefetch" href="/assets/js/37.b7d03c63.js"><link rel="prefetch" href="/assets/js/38.d9407e30.js"><link rel="prefetch" href="/assets/js/39.4f87e45d.js"><link rel="prefetch" href="/assets/js/4.a4a037c8.js"><link rel="prefetch" href="/assets/js/40.5a53ee48.js"><link rel="prefetch" href="/assets/js/41.f7fa6a68.js"><link rel="prefetch" href="/assets/js/42.3c07d4ad.js"><link rel="prefetch" href="/assets/js/43.2965402d.js"><link rel="prefetch" href="/assets/js/44.fef5da48.js"><link rel="prefetch" href="/assets/js/45.ff058ba7.js"><link rel="prefetch" href="/assets/js/46.5a74f2cd.js"><link rel="prefetch" href="/assets/js/47.5931bb97.js"><link rel="prefetch" href="/assets/js/48.cbf85ab3.js"><link rel="prefetch" href="/assets/js/49.0319f8e4.js"><link rel="prefetch" href="/assets/js/5.d0d45788.js"><link rel="prefetch" href="/assets/js/50.497cb73f.js"><link rel="prefetch" href="/assets/js/51.4b6e5c5b.js"><link rel="prefetch" href="/assets/js/52.f4edf34f.js"><link rel="prefetch" href="/assets/js/53.df9c0557.js"><link rel="prefetch" href="/assets/js/54.1654be3b.js"><link rel="prefetch" href="/assets/js/55.c9e37e1f.js"><link rel="prefetch" href="/assets/js/56.052c5808.js"><link rel="prefetch" href="/assets/js/57.cf8cebef.js"><link rel="prefetch" href="/assets/js/58.220252cd.js"><link rel="prefetch" href="/assets/js/59.7e76271a.js"><link rel="prefetch" href="/assets/js/6.b5583d51.js"><link rel="prefetch" href="/assets/js/60.38c88311.js"><link rel="prefetch" href="/assets/js/61.c4b0da1c.js"><link rel="prefetch" href="/assets/js/62.d8be952c.js"><link rel="prefetch" href="/assets/js/63.19c02fd0.js"><link rel="prefetch" href="/assets/js/64.9d51d342.js"><link rel="prefetch" href="/assets/js/65.31c63e7c.js"><link rel="prefetch" href="/assets/js/66.badcb6df.js"><link rel="prefetch" href="/assets/js/67.83764c63.js"><link rel="prefetch" href="/assets/js/68.152c45b6.js"><link rel="prefetch" href="/assets/js/69.2119cafb.js"><link rel="prefetch" href="/assets/js/7.d21b1042.js"><link rel="prefetch" href="/assets/js/70.ff7211f3.js"><link rel="prefetch" href="/assets/js/71.26e7783e.js"><link rel="prefetch" href="/assets/js/72.dc5a3ba6.js"><link rel="prefetch" href="/assets/js/73.d8356ad1.js"><link rel="prefetch" href="/assets/js/74.10184aff.js"><link rel="prefetch" href="/assets/js/75.716811ca.js"><link rel="prefetch" href="/assets/js/76.046e6155.js"><link rel="prefetch" href="/assets/js/77.d287e80f.js"><link rel="prefetch" href="/assets/js/78.635ed9d3.js"><link rel="prefetch" href="/assets/js/79.4485123f.js"><link rel="prefetch" href="/assets/js/8.8bd3dfa9.js"><link rel="prefetch" href="/assets/js/80.74fc122c.js"><link rel="prefetch" href="/assets/js/81.cb3ce31c.js"><link rel="prefetch" href="/assets/js/82.bf81591e.js"><link rel="prefetch" href="/assets/js/83.01b0002d.js"><link rel="prefetch" href="/assets/js/84.6af4ae46.js"><link rel="prefetch" href="/assets/js/85.31122a7c.js"><link rel="prefetch" href="/assets/js/86.7641b1ab.js"><link rel="prefetch" href="/assets/js/87.63912fdd.js"><link rel="prefetch" href="/assets/js/88.01d6d061.js"><link rel="prefetch" href="/assets/js/89.ec494ad7.js"><link rel="prefetch" href="/assets/js/9.17f8341c.js"><link rel="prefetch" href="/assets/js/90.a2905192.js"><link rel="prefetch" href="/assets/js/91.5b1b5e00.js"><link rel="prefetch" href="/assets/js/92.f8112523.js"><link rel="prefetch" href="/assets/js/93.8e9fd5a8.js"><link rel="prefetch" href="/assets/js/94.41217af6.js"><link rel="prefetch" href="/assets/js/95.b253d44f.js"><link rel="prefetch" href="/assets/js/96.76495ed0.js"><link rel="prefetch" href="/assets/js/97.9f48729e.js"><link rel="prefetch" href="/assets/js/98.0e36c4a8.js"><link rel="prefetch" href="/assets/js/99.5b6ab9af.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yiluhuakai</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/golang/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/mysql/" class="nav-link">
  Mysql
</a></div><div class="nav-item"><a href="/clang/" class="nav-link router-link-active">
  C语言
</a></div><div class="nav-item"><a href="/es/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/nodejs/" class="nav-link">
  nodejs
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/golang/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/mysql/" class="nav-link">
  Mysql
</a></div><div class="nav-item"><a href="/clang/" class="nav-link router-link-active">
  C语言
</a></div><div class="nav-item"><a href="/es/" class="nav-link">
  前端
</a></div><div class="nav-item"><a href="/nodejs/" class="nav-link">
  nodejs
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  Java
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/clang/linux.html" class="sidebar-link">Linux命令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/clang/linux.html#位运算符-操作比特位" class="sidebar-link">位运算符（操作比特位）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/clang/linux.html#条件运算符" class="sidebar-link" style="padding-left:3rem;">条件运算符</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#比较运算符" class="sidebar-link" style="padding-left:3rem;">比较运算符</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#逻辑运算符" class="sidebar-link" style="padding-left:3rem;">逻辑运算符</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#流程控制语句" class="sidebar-link" style="padding-left:3rem;">流程控制语句</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#递归和循环" class="sidebar-link" style="padding-left:3rem;">递归和循环</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#变量的作用域和及生命周期" class="sidebar-link">变量的作用域和及生命周期</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#局部变量" class="sidebar-link" style="padding-left:3rem;">局部变量</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#全局变量" class="sidebar-link" style="padding-left:3rem;">全局变量</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#static变量" class="sidebar-link" style="padding-left:3rem;">static变量</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#指针" class="sidebar-link">指针</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#指针的作用" class="sidebar-link" style="padding-left:3rem;">指针的作用</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#野指针" class="sidebar-link" style="padding-left:3rem;">野指针</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#不要在函数中返回一个局部变量的地址" class="sidebar-link" style="padding-left:3rem;">不要在函数中返回一个局部变量的地址</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#指针的运算" class="sidebar-link" style="padding-left:3rem;">指针的运算</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#数组名相当于一个不能移动的指针。" class="sidebar-link" style="padding-left:3rem;">数组名相当于一个不能移动的指针。</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#const关键字" class="sidebar-link">const关键字</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#数组和指针的区别" class="sidebar-link" style="padding-left:3rem;">数组和指针的区别</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#字符和字符串" class="sidebar-link">字符和字符串</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#字符串的输出" class="sidebar-link" style="padding-left:3rem;">字符串的输出</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#字符串的运算" class="sidebar-link">字符串的运算</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#copy" class="sidebar-link" style="padding-left:3rem;">copy</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#字符串的比较-strcmp" class="sidebar-link" style="padding-left:3rem;">字符串的比较（strcmp）</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#strlen-char-str-不包括-0" class="sidebar-link" style="padding-left:3rem;">strlen(char * str)，不包括'\0';</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#char-strcat-char-dest-const-char-src-将b连接在a的后面。" class="sidebar-link" style="padding-left:3rem;">char strcat(char dest, const char *src);将b连接在a的后面。</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#memset-char-a-0-20-清空字符串-使用20个0来填充。" class="sidebar-link" style="padding-left:3rem;">memset(char * a ,0,20),清空字符串，使用20个0来填充。</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#指向多个字符串" class="sidebar-link">指向多个字符串</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#main函数的函数原型" class="sidebar-link">main函数的函数原型</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#c程序的编译过程" class="sidebar-link">c程序的编译过程</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#_1-预处理" class="sidebar-link" style="padding-left:3rem;">1.预处理</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#_2-编译" class="sidebar-link" style="padding-left:3rem;">2.编译</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#_3-汇编" class="sidebar-link" style="padding-left:3rem;">3.汇编</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#_4-链接" class="sidebar-link" style="padding-left:3rem;">4.链接</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#预处理指令" class="sidebar-link">预处理指令</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#_1-头文件" class="sidebar-link" style="padding-left:3rem;">1.头文件</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#_2-宏" class="sidebar-link" style="padding-left:3rem;">2.宏</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#条件编译" class="sidebar-link">条件编译</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#内置宏变量" class="sidebar-link">内置宏变量</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#include-和-include-的区别" class="sidebar-link">#include 和 #include &quot;&quot;的区别</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#分文件调用" class="sidebar-link">分文件调用</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#static-和-extern" class="sidebar-link">static 和 extern</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#头文件的引用" class="sidebar-link">头文件的引用</a></li><li class="sidebar-sub-header"><a href="/clang/linux.html#make-和makefile" class="sidebar-link">make 和makefile</a></li></ul></li></ul></li><li><a href="/clang/struct.html" class="sidebar-link">结构体</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/point.html" class="sidebar-link">指针高级</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/stdlib.html" class="sidebar-link">标准库函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/datastruct.html" class="sidebar-link">数据结构主要研究的如何使用存储区(内存)存储数字</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/uc1.html" aria-current="page" class="active sidebar-link">复习:uc1</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/uc2.html" class="sidebar-link">uc2</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/uc3.html" class="sidebar-link">uc3</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/uc4.html" class="sidebar-link">uc4</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/uc5.html" class="sidebar-link">uc5</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/uc6.html" class="sidebar-link">uc6</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/uc7.html" class="sidebar-link">uc7</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/net1.html" class="sidebar-link">网络基础</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/net2.html" class="sidebar-link">ip地址</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/net3.html" class="sidebar-link">对tcp编程的代码进行封装</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/net-udp.html" class="sidebar-link">udp编程模型</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/thread.html" class="sidebar-link">线程基础</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/clang/signal.html" class="sidebar-link">信号阻塞</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="复习-uc1"><a href="#复习-uc1" class="header-anchor">#</a> 复习:uc1</h3> <p>1.大端小端</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>所谓的大端模式（Big-endian），是指数据的高字节，保存在内存的低地址中，而数据的低字节，保存在内存的高地址中.
记忆方法: 地址的增长顺序与值的增长顺序相反
所谓的小端模式（Little-endian），是指数据的高字节保存在内存的高地址中，而数据的低字节保存在内存的低地址中，
记忆方法: 地址的增长顺序与值的增长顺序相同
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>eg:unsigned int value = 0x12345678</p> <table><thead><tr><th>内存地址</th> <th>大端</th> <th>小端</th></tr></thead> <tbody><tr><td>0x4000</td> <td>0x12</td> <td>0x78</td></tr> <tr><td>0x4001</td> <td>0x34</td> <td>0x56</td></tr> <tr><td>0x4002</td> <td>0x56</td> <td>0x34</td></tr> <tr><td>0x4003</td> <td>0x78</td> <td>0x12</td></tr></tbody></table> <p>大小端判断</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">unsigned</span> <span class="token keyword">int</span> val <span class="token operator">=</span> <span class="token number">0x12345678</span><span class="token punctuation">;</span>
        <span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span> c <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">unsigned</span> <span class="token keyword">char</span> <span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>val<span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">*</span>c <span class="token operator">==</span> <span class="token number">0x12</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;your system is big\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;your system is little\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>2.数组</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>int arr_t[3]    // 类型是int[3] arr_t 是数组名称
typedef int arr_t[3] // 给int[3]起别名为arr_t
arr_t a //  相当于 int a[3] 
arr_t b[2]   // 相当于 int b[2][3]
//  二维数组的初始化
int b[2][3]   = { {1,2,3},{4,5,6}}
// 二维数组在内存中的表现
[1,2,3,4,5,6]
b为数组名称，长度为2，每个元素是一个int[3]类型的数组
// 所以
*(b+1) == b[1] 指向数组第二个元素{3,4,5}的地址
b[0]  == *b
// b[0][3]  b[0]相当于数组的名称,他的元素是int类型的
b[0]+1  == // 指向的是数组的2的地址

// 访问上面数组中元素5
*(*(b+1)+1)
*(*b+4)
*(*(b+2)-2)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><ol start="3"><li>字符串列表</li></ol> <p>char * str[3]  // str[0] 是一个字符指针，如果指向一个字符串，则是一个字符串数组</p> <ol start="4"><li>数组指针</li></ol> <p>int (*p) [3]<br>
// p是一个指针变量，指向的是一个int[3]类型的地址</p> <p>*p获取这个int[3]类型的数组
p+1 // p指向的类型是int[3] , 所以p+1会将地址增加12个字节</p> <ol start="5"><li>函数
函数是一种类型。</li></ol> <p>int add (int x,int y)</p> <p>//add是函数名，也是函数的入口地址 ， 类型为int (int x,int y)</p> <p>typedef int add (int x, int y);</p> <p>add p // 函数类型的变量p</p> <p>add * p // 函数指针</p> <p>typedef int (*func) (int x,int y);</p> <p>func是函数指针类型。</p> <p>func a //  ===  add* p;</p> <p>int (* func) (int x, int y)  // func时函数指针</p> <p>int (* func[3]) (int x,int y) //  func 是数组名称，数组有4个元素，元素的类型是函数指针
6.结构体</p> <p>struct  node{
int data,
struct node * next
};</p> <p>typedef struct node node_p</p> <p>typdef node_p * node_point</p> <p>node_point m,n //  node_p * m,node_p* n</p> <h3 id="什么是操作系统"><a href="#什么是操作系统" class="header-anchor">#</a> 什么是操作系统</h3> <p>操作系统是一个管理计算机软件和硬件的一款软件。软件是逻辑的虚拟的，硬件是物理存在的。
软件是对硬件的控制。硬件为软件的运行的支撑。</p> <p>计算机包括那些系统</p> <ol><li>cpu 管理cpu 进程
2.内存 管理内存 内存管理
3.硬盘 管理硬盘 文件系统
4.网卡 管理网卡 网络通讯
5.显卡、声卡
6.线程管理、进程管理</li> <li>中断管理  信号</li></ol> <h3 id="uc时干什么的"><a href="#uc时干什么的" class="header-anchor">#</a> uc时干什么的</h3> <p>标准库函数时c语言提供的一些和系统无关的函数，我们写代码的时候可以调用
unix系统也提供了一部分系统调用相关的函数，我们使用uc就时调用这些函数。</p> <p>查看标准库函数 man 3 printf
查看系统调用函数 man 2 open</p> <h3 id="头文件的内容"><a href="#头文件的内容" class="header-anchor">#</a> 头文件的内容</h3> <p>#ifndef HEAD___H__
#define HEAD__H__
// 函数的声明
// 类型的定义
// 宏定义
// 文件的包含
//变量的声明
#endif</p> <p>int a ; // 变量的定义</p> <p>extern int a ; //  变量的声明</p> <p>变量的定义是给变量分配内容空间，而变得声明是给变量扩充作用域，并不会给变量分配内存空间。</p> <h3 id="大型项目目录结构"><a href="#大型项目目录结构" class="header-anchor">#</a> 大型项目目录结构</h3> <p>1.先创建一个文件夹</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">mkdir</span> kmath
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.在kmath下编写头文件kmath.h</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">__KMATH__H__</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">__KMATH__H__</span></span>
<span class="token keyword">int</span>  <span class="token function">k_add</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span>  <span class="token function">k_sub</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span>  <span class="token function">k_div</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span>  <span class="token function">k_mux</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>3.现在可以分工实现main.c 和 k_add.c、mux.c
main.c</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;kmath.h&quot;</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">int</span> a <span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span>b<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a+b=%d\n&quot;</span><span class="token punctuation">,</span><span class="token function">k_add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a*b=%d\n&quot;</span><span class="token punctuation">,</span><span class="token function">k_div</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>k_add.c</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">k_add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">k_sub</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>mux.c</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">k_div</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">*</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token function">k_mux</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token operator">/</span>b<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>gcc -c main.c、gcc -c k_add.c、gcc -c mux.c分别对单个文件进行单元测试。</p> <p>gcc *.o 或者gcc *.c对程序进行集成测试。</p> <p>4.gcc *.o 将目标文件和可执行得环境链接起来。</p> <p>nm a.o 可以查看二进制文件中得符号表
符号表包含函数得名称、全局变量得名称、静态局部文件得名字
其中U表示函数在当前文件中未实现。T表示在当前文件中存在函数得实现。T前面得地址是函数在当前文件中地址。</p> <p>链接发生前：</p> <p><img src="/clang/D132B234-93F2-4789-9A1E-478E9A65B5BD.png" alt="d3b7ac9b27e338b14b09eb7cc9258d14"></p> <p>链接后</p> <p><img src="/clang/D181481D-861A-41A7-AF66-09F54AA857AA.png" alt="ce5cee00c873eff8b9f09e7df0a2ef14"></p> <p>链接就是将多个二进制文件的符号表合并。发生在生成可执行文件之前的链接称之为静态链接。
可执行文件在执行得需要加载到内存中，在加载内存得之前，需要链接可以执行文件依赖得动态库。这时候得链接称之为动态链接或者延迟链接。</p> <p>查看链接过程中发生的事情：gcc *.o -v,运行这个命令可以看待一个运行时文件。</p> <p>可以看到里面有个crt1.o的目标文件。执行 nm .../crt1.o
<img src="/clang/22D0ADE8-44DB-441F-897A-BB307DEB366A.png" alt="74da45445ef7e85b8bfa49eda68f8fcf"></p> <p>可以看到这个文件中存在一个_start函数，该函数中用到了main函数，所以我们所写的main函数是在_start中调用的，所以main函数必须存在。</p> <h3 id="include-和"><a href="#include-和" class="header-anchor">#</a> include &quot;&quot;和&lt;&gt;</h3> <p>&lt;&gt; 从系统指定的路径下找头文件
“” 先从当前路径下找头文件，找不到再去系统指定目录下</p> <p>系统制定的路径：</p> <p>gcc -E main.c o main.i -v</p> <p><img src="/clang/C5912FB5-FFF4-4C9A-8A59-26BBFC3438E1.png" alt="4265a6c238e8f287b568505d54a1b861"></p> <p>我们可以把自己的头文件放到系统指定路径下，然后通过&lt;&gt;去包含。</p> <p>我们可以把当前头文件这些文件放到指定目录下制作第三方的包。
<img src="/clang/2E66CC50-EF92-4103-82EA-14B927D117C1.png" alt="10cece503aa2c501a747f638e74ded4d"></p> <h4 id="制作静态库文件"><a href="#制作静态库文件" class="header-anchor">#</a> 制作静态库文件</h4> <p>为什么要制作静态库文件？
将多个*.o文件打包成一个文件，便于携带使用，可以把这个静态交给别人调用</p> <p>1.文件的目录接口</p> <p><img src="/clang/F954A844-36E2-4372-96FB-96515F2210B5.png" alt="0b8bb0e4a8270c1b018e57bbf327ca1a"></p> <p>2.将要加入的动态库的源文件编译为目标文件
<img src="/clang/81DCE7F9-7558-4CB2-821B-FAB007089860.png" alt="74a3a28164283ff99183138262735c53"></p> <p>3.将目标文件打包到静态库文件中
<img src="/clang/A93699CB-A853-4918-9393-9CA8DEA0249F.png" alt="b9c8f4c99bc097fca38346c60098d791"></p> <p>4.使用静态库文件链接生成可执行文件</p> <p><img src="/clang/1D7D2A35-4972-42CE-AF1A-29417EBE5BB1.png" alt="4f07cb7b5ee58981ad1789159b3ef717"></p> <p>-L路径
-l代表使用的静态库的名字
链接后的可执行文件不再依赖于静态库。</p> <h4 id="环境变量的初步认识"><a href="#环境变量的初步认识" class="header-anchor">#</a> 环境变量的初步认识</h4> <p>程序和进程</p> <p>程序是计算机指令的集合，存放在磁盘中。
进程是程序运行的实例。每个进程都有自己的pid,操作系统使用pid来管理进程，进程是动态的。进程运行期间需要和操作系统之间不断的打交道，操作系统为和进程的运行提供了一些环境。进程通过环境变量的方式去访问系统的环境。环境变量是进程的一部分。
env指令可以用来查看环境变量。</p> <p>echo $name 可以输出名字为name的环境变量
name=value可以用来设置环境变量的值。注意=号的两边不允许出现空格。
env|grep USER</p> <p>grep &quot;字符串&quot; 文件名</p> <p>在指定的文件中查找包含字符串的额行。讲结果输出的显示器上。</p> <p>｜ 管道命令，将前一个命令的执行结果传递给后一个命令，作为后一个命令的默认文件。</p> <p>bash进程除了环境变量还可以有自定义的环境变量。</p> <p>自定义的环境变量是bash进程私有的，不可以被儿子进程继承。环境变量是可以被儿子进程继承的。
使用export可以将自定义变量转换成环境变量。</p> <p>在一个bash进程中修改环境变量的值在另一个bash进程中是不可见的。
<img src="/clang/E069AC6A-5A47-4AA3-95A1-7CF8899AC92E.png" alt="ffce0161c3f96604fa8dd07121aa96fd"></p> <p>使用export将自定义变量转化为环境变量，该环境变量只在当前的bash中可见。
<img src="/clang/6E8473F9-A426-4832-A073-7F8B11B14F3E.png" alt="aeab16994c9908f89a9feb12c262a344"></p> <p>为了让这个环境变量对所有的bash生效，我们可以在～/.bashrc中配置自定义变量和环境变量。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> ~/.bashrc
<span class="token comment"># 设置自定义变量</span>
<span class="token assign-left variable">caption</span><span class="token operator">=</span><span class="token string">&quot;beijing&quot;</span>
<span class="token comment"># 将自定义变量设置成环境变量</span>
<span class="token builtin class-name">export</span> caption


<span class="token comment"># 或者</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;hello&quot;</span>

<span class="token comment">#</span>
:wq

<span class="token comment"># </span>
<span class="token builtin class-name">source</span> ~/.bashrc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h4 id="ps1-w"><a href="#ps1-w" class="header-anchor">#</a> PS1='\W$'</h4> <p>这个命令会将bash命令行的路径改成当前文件夹的最后的路径名；如果设置为环境变量，那么每次打开bash都会这样。</p> <h4 id="path"><a href="#path" class="header-anchor">#</a> PATH</h4> <p>/Users/lijunjie/.nvm/versions/node/v12.13.1/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/go/bin:/Users/lijunjie/development/flutter/bin</p> <p>当你在BASH中输入一个命令时，后在PATh环境变量中以：分割的环境变量中去查找可执行程序，找到会执行当前程序，找不到会报错。</p> <p>当我们有一个可执行程序。我们希望他在任何路径下都可以访问。我们可以
1.将当前程序所在的路径加入到环境变量中。
2.将可执行程序放到上面的任意路径下。
我们执行可执行程序前面需要加./,可以采用export PATH=$PATH:.的方式，将当前路径加入到环境变量中。</p> <h4 id="动态库-共享库-文件"><a href="#动态库-共享库-文件" class="header-anchor">#</a> 动态库(共享库)文件</h4> <p>命名规则：lib库名.so</p> <p>制作动态库文件
1.将要加入动态库的源文件编译成与位置无关的目标文件。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#-fPIC 与位置无关的</span>
gcc -c -fPIC *.c 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2.将第一步生成的可执行文件打包到动态库文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>
gcc -shared -o libkmath.so *.o
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3.链接生成可执行文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>gcc main.o -Lkmath -lkmath
<span class="token comment">#报错</span>
./a.out
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="/clang/00DBF552-35F3-41D8-BE7F-F3DC8E244752.png" alt="00aeed146b84425be347feef0fe6a0ea">
可以看到缺少开k_add和k_div的实现</p> <p>查看可执行文件缺少的动态库</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>ldd ./a.out
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/clang/76AE21ED-7DFA-4762-81EC-E36C277333EF.png" alt="6aee49a40161e9c6af16c1ed89912311">
生成可执行文件的时候发生的是一个虚的链接，真实的链接发生在可执行文件执行的时候。这个真实的链接称为动态链接。</p> <p>错误原因：加载器找不到要链接的动态库。</p> <p>1.加载器的默认路径
\usr\lib 或者\lib</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">sudo</span> <span class="token function">mv</span> libkamth.so /usr/lib
./a.out 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>链接器的默认路径也在这个下面</p> <div class="language-shel line-numbers-mode"><pre class="language-text"><code>
#不用指定路径，去默认路径下找
gcc main.o -lkmath
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>2.使用环境变量告诉加载器去哪里找
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:kmath/</p> <h4 id="动态链接和静态链接的区别"><a href="#动态链接和静态链接的区别" class="header-anchor">#</a> 动态链接和静态链接的区别</h4> <p>动态链接发生在可执行文件执行的时候。依赖动态库。当修改动态库的源文件，重新打包成动态库。不需要重新链接生成可执行文件（客户端软件的升级）
静态链接发生在生成可执行文件的时候。不再依赖静态库</p> <h4 id="动态加载"><a href="#动态加载" class="header-anchor">#</a> 动态加载</h4> <p>动态加载时在需要这个动态库的时候手动加载，不需要的时候不加载。动态加载时动态库和可执行文件在生成可执行文件之前没有依赖关系（include库文件）。</p> <p>动态加载相关的函数：
#include &lt;dlfcn.h&gt;
dlopen(3) dlclose(3)</p> <p>1.dlopen()</p> <p>void *dlopen(const char *filename, int flags);</p> <p>filename时动态库的名称，flag时加载模式</p> <p>1.RTLD_LAZY （只对函数符号表有效，在函数执行的时候引用了这个库中的函数时引用这个库）</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>        Perform lazy binding.  Resolve symbols only as the code that references them is executed.  If the symbol is never referenced, then it is never resolved.  (Lazy binding is performed only for function references; references to variables are always immediately bound when the shared object is loaded.)  Since glibc 2.1.1, this flag is overridden by the  effect  of the LD_BIND_NOW environment variable.
          

2 RTLD_NOW （这个库在dlopen的时候被加载）
​```text
              If  this  value  is specified, or the environment variable LD_BIND_NOW is set to a nonempty string, all undefined symbols in the shared object are resolved before dlopen() returns.
              If this cannot be done, an error is returned.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>返回值：加载成功返回void *类型的handle.负责返回Null</p> <ol start="2"><li>dlclose()
int dlclose(void *handle);</li></ol> <p>接收上面返回的handle每次关闭时。这个动态库被引用的次数减1.当为0时这个动态库被卸载。成功返回0 ，失败返回非0数字。</p> <div class="language-text line-numbers-mode"><pre class="language-text"><code> dlclose()
       The function dlclose() decrements the reference count on the dynamically loaded shared object referred to by handle.  If the reference count drops to zero, then the  object  is  unloaded.
       All shared objects that were automatically loaded when dlopen() was invoked on the object referred to by handle are recursively closed in the same manner.

       A  successful  return  from  dlclose()  does  not  guarantee that the symbols associated with handle are removed from the caller's address space.  In addition to references resulting from
       explicit dlopen() calls, a shared object may have been implicitly loaded (and reference counted) because of dependencies in other shared objects.   Only  when  all  references  have  been
       released can the shared object be removed from the address space.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>动态加载tmath.so这个动态库。</p> <p>gcc dlopen_demo.c -ldl</p> <div class="language-c line-numbers-mode"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;dlfcn.h&gt;</span></span>


<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token operator">*</span> handle <span class="token operator">=</span> <span class="token function">dlopen</span><span class="token punctuation">(</span><span class="token string">&quot;libtmath.so&quot;</span><span class="token punctuation">,</span>RTLD_NOW<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>handle <span class="token operator">==</span> <span class="token constant">NULL</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;load error\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;load successfully\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">dlclose</span><span class="token punctuation">(</span>handle<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>需要手动设置加载动态库的环境变量。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>exprot <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span><span class="token variable">$LD_LIBRARY_PATH</span>:kmath/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>加载动态库时的错误信息</li></ol> <p>char *dlerror(void);</p> <p>当加载动态库失败时返回错误信息</p> <ol start="4"><li>调用动态库的函数
symbol可以时全局变量、静态局部变量、函数，成功返会函数的地址，失败返回NULL,通l过dlerror()获取错误信息。
void *dlsym(void *handle, const char *symbol);</li></ol> <h3 id="错误处理"><a href="#错误处理" class="header-anchor">#</a> 错误处理</h3> <p>调用系统函数或者库函数失败时，我们需要获取错误信息。这个时候我们通过系统提供的全局变量errno来获取错误的错误码，使用strerror()函数获取错误的信息。</p> <ol><li>errno</li></ol> <ul><li>errno - number of last error</li> <li>#include &lt;errno.h&gt;</li> <li>返回一些库函数或者系统函数出错得错误码。</li> <li>errno 是可以修改得  Eg:errno =-1</li></ul> <p>2.char *strerror(int errnum);</p> <ul><li>errnum是上面得errno.</li> <li>返回值是错误信息或者&quot;Unknown error nnn”</li></ul> <p>3.void perror(const char *s);</p> <ul><li>#include &lt;stdio.h&gt;</li> <li>perror - print a system error message</li> <li>错误信息得格式为形参s+: +error message.</li> <li>perror(&quot;fopen&quot;),出错得情况下或返回下面得格式fopen: No such file or directory</li></ul> <h3 id="内存"><a href="#内存" class="header-anchor">#</a> 内存</h3> <p>1.内存分为ram(random access memory)和rom(random only memory).
2.虚拟地址和物理地址(真正的内存)</p> <p>CPU在启动的时候是运行在实模式的，Bootloader以及内核在初始化页表之前并不使用虚拟地址，而是直接使用物理地址的。如果CPU寄存器中的分页标志位被设置，那么执行内存操作的机器指令时，CPU（准确来说，是MMU，即Memory Management Unit，内存管理单元）会自动根据页目录和页表中的信息，把虚拟地址转换成物理地址，完成该指令。每个进程有4GB的虚拟地址空间。基于分页机制，这4GB地址空间的一些部分被映射了物理内存，一些部分映射硬盘上的交换文件，一些部分什么也没有映射。当我们访问的虚拟地址不能转成实际的物理地址或者我们没有权限去访问这个虚拟地址对象的物理地址时，就会发生段错误。</p> <p>为什么要用虚拟地址映射到物理地址</p> <p>直接访问将程序加载到内存中，进程间的内存是不隔离的。进程有可能修改其他进程在内存中地址。
为什么是4G</p> <p>32位机的一个指针是四个字节，可以分配4G个虚拟地址空间。每个页的大小是4k。那么可以分成1M个页。地址中的前20位用来表示页号。后面的10位可以用来表示偏移的地址。使用页表将一个页对应到物理地址中的同样大小的框。</p> <p>虚拟地址转物理地址：使用虚拟地址的页号找到对应的物理地址的起始地址。然后利用偏移找出对应的物理地址。</p> <p>一个4g虚拟地址空间对应的包含1M个大小为4k的页，如果每个页号在页表中占1B,那么总共占用1MB.</p> <p><img src="/clang/01CBF822-7C7C-4018-BD73-255539652433.png" alt="150c334ae4c7d6391d01804fceaa54bd"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/clang/datastruct.html" class="prev">
        数据结构主要研究的如何使用存储区(内存)存储数字
      </a></span> <span class="next"><a href="/clang/uc2.html">
        uc2
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9b56a05a.js" defer></script><script src="/assets/js/2.b22280cb.js" defer></script><script src="/assets/js/20.d175ff74.js" defer></script>
  </body>
</html>
