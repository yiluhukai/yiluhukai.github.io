<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql 的使用（一） | yiluhuakai</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.992cb7aa.css" as="style"><link rel="preload" href="/assets/js/app.8d948694.js" as="script"><link rel="preload" href="/assets/js/2.a2e5091a.js" as="script"><link rel="preload" href="/assets/js/15.e867d47b.js" as="script"><link rel="prefetch" href="/assets/js/10.675bf7d8.js"><link rel="prefetch" href="/assets/js/11.84553f5f.js"><link rel="prefetch" href="/assets/js/12.dfc375e9.js"><link rel="prefetch" href="/assets/js/13.8216b6ef.js"><link rel="prefetch" href="/assets/js/14.785a178d.js"><link rel="prefetch" href="/assets/js/16.9852d40c.js"><link rel="prefetch" href="/assets/js/3.0277475e.js"><link rel="prefetch" href="/assets/js/4.d9efc253.js"><link rel="prefetch" href="/assets/js/5.6b3bdc86.js"><link rel="prefetch" href="/assets/js/6.c9f44ce5.js"><link rel="prefetch" href="/assets/js/7.0891c2b1.js"><link rel="prefetch" href="/assets/js/8.fcce7b9a.js"><link rel="prefetch" href="/assets/js/9.53eb5571.js">
    <link rel="stylesheet" href="/assets/css/0.styles.992cb7aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yiluhuakai</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/golang/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/clang/lin/" class="nav-link">
  C语言
</a></div><div class="nav-item"><a href="https://google.com/3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/golang/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/clang/lin/" class="nav-link">
  C语言
</a></div><div class="nav-item"><a href="https://google.com/3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  前端
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Clang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Golang</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Leetcode</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Mysql</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql/mysql01.html" aria-current="page" class="active sidebar-link">mysql 的使用（一）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/mysql01.html#一、启动-mysql-服务" class="sidebar-link">一、启动 mysql 服务</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql01.html#二、通过命令行连接-mysql" class="sidebar-link">二、通过命令行连接 mysql</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql01.html#三、常用的-mysql-指令" class="sidebar-link">三、常用的 mysql 指令</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql01.html#四、修改-mysql-的配置" class="sidebar-link">四、修改 mysql 的配置</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql01.html#五、mysql-语法规范" class="sidebar-link">五、mysql 语法规范</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql01.html#六、sql-中的分类" class="sidebar-link">六、sql 中的分类</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql01.html#七、dql" class="sidebar-link">七、DQL</a></li></ul></li><li><a href="/mysql/mysql02.html" class="sidebar-link">mysql 的使用（2）</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="mysql-的使用-一"><a href="#mysql-的使用-一" class="header-anchor">#</a> mysql 的使用（一）</h3> <h2 id="一、启动-mysql-服务"><a href="#一、启动-mysql-服务" class="header-anchor">#</a> 一、启动 mysql 服务</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#windows
net stop mysql
net start mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>#macos

#通过homebrew
brew services list  // 查看服务列表

brew services restart  mysql // 重启mysql

brew services stop mysql // 关闭mysql

brew services start mysql // 启动mysql服务

#使用mysql命令
mysql.server start/stop/restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="二、通过命令行连接-mysql"><a href="#二、通过命令行连接-mysql" class="header-anchor">#</a> 二、通过命令行连接 mysql</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#连接
mysql [-h localhost] [-P 3306] -u root -p [password]

#退出
exit或者ctrl+C
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="三、常用的-mysql-指令"><a href="#三、常用的-mysql-指令" class="header-anchor">#</a> 三、常用的 mysql 指令</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>#查看所有的数据库
mysql&gt;show databases

# 使用一个数据库

mysql&gt;use database

# 查看当前数据库下的表
mysql&gt;show tables


#查看其他数据库的表
mysql&gt;show tables from database

#查看表结构
mysql&gt;desc table


#查看mysql的版本
mysql&gt;select version()
#命令行中
$mysql -V


#创建表

mysql&gt;create table tableName(
id int primary key,
#最后一行不需要逗号
name varchar(11)
)engine =InnoDB default charset = utf8;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="四、修改-mysql-的配置"><a href="#四、修改-mysql-的配置" class="header-anchor">#</a> 四、修改 mysql 的配置</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code> #windows
 安装目录下的my.ini文件，修改后需要重新启动mysql服务

 #macos
 my.cnf默认不存在，需要手动创建。mysql启动的时候会从下面的路径查找配置文件

 #返回查找配置文件的路径
 mysql --help|grep 'my.cnf'

 order of preference, my.cnf, $MYSQL_TCP_PORT,
/etc/my.cnf /etc/mysql/my.cnf /usr/local/etc/my.cnf ~/.my.cnf
sudo vim  /etc/my.cnf
#将配置粘贴进去保存退出

#修改/etc/my.cnf的权限
sudo chmod 664 my.cnf

#重启服务
mysql.server restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>配置内容</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># Example MySQL config file for small systems.
#
# This is for a system with little memory (&lt;= 64M) where MySQL is only used
# from time to time and it's important that the mysqld daemon
# doesn't use much resources.
#
# MySQL programs look for option files in a set of
# locations which depend on the deployment platform.
# You can copy this option file to one of those
# locations. For information about these locations, see:
# http://dev.mysql.com/doc/mysql/en/option-files.html
#
# In this file, you can use all long options that a program supports.
# If you want to know which options a program supports, run the program
# with the &quot;--help&quot; option.

# The following options will be passed to all MySQL clients
[client]
default-character-set=utf8
#password   = your_password
port        = 3306
socket      = /tmp/mysql.sock

# Here follows entries for some specific programs

# The MySQL server
[mysqld]
default-storage-engine=INNODB
character-set-server=utf8
collation-server=utf8_general_ci
port        = 3306
socket      = /tmp/mysql.sock
skip-external-locking
key_buffer_size = 16K
max_allowed_packet = 1M
table_open_cache = 4
sort_buffer_size = 64K
read_buffer_size = 256K
read_rnd_buffer_size = 256K
net_buffer_length = 2K
thread_stack = 128K

# Don't listen on a TCP/IP port at all. This can be a security enhancement,
# if all processes that need to connect to mysqld run on the same host.
# All interaction with mysqld must be made via Unix sockets or named pipes.
# Note that using this option without enabling named pipes on Windows
# (using the &quot;enable-named-pipe&quot; option) will render mysqld useless!
#
#skip-networking
server-id   = 1

# Uncomment the following if you want to log updates
#log-bin=mysql-bin

# binary logging format - mixed recommended
#binlog_format=mixed

# Causes updates to non-transactional engines using statement format to be
# written directly to binary log. Before using this option make sure that
# there are no dependencies between transactional and non-transactional
# tables such as in the statement INSERT INTO t_myisam SELECT * FROM
# t_innodb; otherwise, slaves may diverge from the master.
#binlog_direct_non_transactional_updates=TRUE

# Uncomment the following if you are using InnoDB tables
#innodb_data_home_dir = /usr/local/mysql/data
#innodb_data_file_path = ibdata1:10M:autoextend
#innodb_log_group_home_dir = /usr/local/mysql/data
# You can set .._buffer_pool_size up to 50 - 80 %
# of RAM but beware of setting memory usage too high
#innodb_buffer_pool_size = 16M
#innodb_additional_mem_pool_size = 2M
# Set .._log_file_size to 25 % of buffer pool size
#innodb_log_file_size = 5M
#innodb_log_buffer_size = 8M
#innodb_flush_log_at_trx_commit = 1
#innodb_lock_wait_timeout = 50

[mysqldump]
quick
max_allowed_packet = 16M

[mysql]
no-auto-rehash
# Remove the next comment character if you are not familiar with SQL
#safe-updates

[myisamchk]
key_buffer_size = 8M
sort_buffer_size = 8M

[mysqlhotcopy]
interactive-timeout
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div><h2 id="五、mysql-语法规范"><a href="#五、mysql-语法规范" class="header-anchor">#</a> 五、mysql 语法规范</h2> <p>1.不区分大小写，但是建议关键字大写，列名和表名小写。 2.每条语句最好用分号结尾。 3.每条语句可以根据需要换行缩进。 4.注释
单行注释：#注释内容
单行注释：-- 注释内容（中间有空格）
多行注释：/_ 注释文字_/
eg:mysql&gt;#select * from user;
// 这条语句被注释，执行后没有任何效果。</p> <h2 id="六、sql-中的分类"><a href="#六、sql-中的分类" class="header-anchor">#</a> 六、sql 中的分类</h2> <p>1.SQL（Structure Query Language）结构化查询语言
2.DQL（data query language）数据查询语言 select 操作
3.DML（data manipulation language）数据操作语言，主要是数据库增删改三种操作
4.DDL（data defination language）数据库定义语言，主要是建表、删除表、修改表字段等操作
5.DCL（data control language）数据库控制语言，如 commit，revoke 之类的，在默认状态下，只有 sysadmin,dbcreator,db_owner 或 db_securityadmin 等人员才有权力执行 DCL</p> <h2 id="七、dql"><a href="#七、dql" class="header-anchor">#</a> 七、DQL</h2> <ol><li>select 查询对象 [from table];</li></ol> <p>查询的对象可以可以是表格的字段，一个常量或者表达式，一个函数。查询的结果将以一个虚拟的表格输出。表格中的列名是字段名、常量和表达式、函数.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#建议先指定所使用的数据库
use myemployees;
#单个字段的查询
select first_name from employees;
#查询多个字段
select first_name,last_name from employees;
# 查询所有的字段
select first_name,last_name,salary,hiredate from employees;
#还可以使用* (*中代表的字段顺序和表格的字段顺序一致)
select * from employees;

# 查询常量

select 100; // 列名为100切有一行数据为100
select 100 from employees;//列名为100切输出数据库中总数条100

# 查询一个表达式
select 100*98;
select  salary * 12 from employees;

# 查询一个函数
select version()
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>当查询的字段中包含有关键字的时候，可以使用着重符(`)将关键字转为字段。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select `name` from user;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询的结果输出时，表格的列名可能是常量、表达式、函数名、字段名。有时候可读性不好。可以使用 as 给他们起一个别名。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 别名
select first_name as 名,last_name as 姓 from employees;

# 当别名有关键字或者中间有空格时，可以使用单引号或者双引号引起来。

select salary as &quot;out put&quot; from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用 distict 对查询结果去重</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select distinct department_id from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>加号运算符和 concat(a,b)函数.</p> <p>1.加号的两边数字，相当于查询一个数字常量：
select 10+20 ==&gt; select 30; 2.当一边是数字一边是字符串时，字符串可以被转化为数字。相当于查询一个数字常量。
select 10+'30' ==&gt; select 40;</p> <p>3.当一边是数字一边是字符串时，字符串不可以被转化为数字时，会将字符串转为数字 0.
select 10+'john' ==&gt; select 10;</p> <p>4.当一边为 null 时，相当于查询 null</p> <p>select 1+null ==&gt; select null;</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># select 30 from employees;
select 10+20 from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果相见查询的多个字段（大于等于 2）连接起来，可以使用 concat().</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select concat(first_name,' ',last_name) as 姓名 from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>会讲 first_name 和 last_name 用空格连接起来作为姓名列的结果输出。</p> <p>ifnull()函数可以用来给字段默认值。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select  ifnull(commission_pct,0) as 奖金率,commission_pct from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当 commission_pct 列中的值为 null,奖金率中的只为 0.</p> <p>concat 函数会吧多个字段连接成一个新的字段输出，当其中一个字段为 null 时，查询结构就为 null.我们可以将 concat()函数和 ifnull()结合起来使用。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select concat(first_name,ifnull(last_name,'')) from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.条件查询
select 查询列表 from table where 条件；</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>简单的条件查询：&gt;,&lt;,=,!=,&lt;&gt;(相当于!=),&gt;=,&lt;=

逻辑运算符：and(&amp;&amp;) ,or(||),not(!)

模糊查询：like、in、between.. and .. 、is null.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>简单的条件查询</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from employees where salary &gt; 12000;
select last_name,department_id from employees where department_id &lt;&gt; 90;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用运算符可以将多个查询条件连接起来</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from employees where salary &gt;1200 and department_id = 90;

select * from employees where salary &gt;1200 or department_id = 90;
# salary &lt;=12000
select * from employees where not salary &gt;12000;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>like 和通配符进行模糊查询</p> <p>通配符：%,*
%代表任意多个字符，包括 0 个字符
*代表一个字符</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 查询last_name第二个字母是a/A的所有记录。
select  * from employees where last_name like '_a%'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当需要查询的字段中含有字符_’时，可以使用转义字符为\或者自定义转义字符。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select  * from employees where last_name like 'K\_ing%';
#指定$作为转义字符
select  * from employees where last_name like 'K$_ing%' escape '$';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>between...and...</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
select * from employees where salary between 12000 and 20000;
#和下面的语句等价

select * from employees where salary &gt;=12000 and salary &lt;=20000;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>between... and ...包含两个临界值，切两个临界值顺序不能颠倒。</p> <p>in 可以一次匹配同一字段的多个值。值的类型应该和字段的类型一致，否则没有意义。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from employees where job_id  = 'AD_VP' or job_id = 'AC_MGR' or job_id =100;

#相当于 上面的查询语句
select * from employees where job_id in('AD_VP','AC_MGR',19);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>= 和 &lt;&gt;不能判断 null,我们需要查询某个字段为 null 时，可以 is null,不为 null,使用 is not null;</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from employees where commission_pct is null;

select * from employees where commission_pct is not null;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>安全等于 &lt;=&gt;</p> <p>安全等于几可以判断 null 又可以判断普通值，相当于 = 和 is null 的结合体。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select  * from employees where commission_pct &lt;=&gt; null;

select  * from employees where salary &lt;=&gt; 12000;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>isnull(exp)</p> <p>当数据库中有这个字段不为 null 时返回 1，否则返回 0.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select isnull(commission_pct),commission_pct from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查询结果是否一样"><a href="#查询结果是否一样" class="header-anchor">#</a> 查询结果是否一样</h3> <p>select * from employees;</p> <p>select * from employees where commisson_pct like &quot;%%&quot;;</p> <p>当 commission_pct 中有 null 时，结果不一样，没有 null 时，查询结果一样。</p> <p>2.排序查询</p> <p>asc(ascending order)/ （descending order）
默认使用升序排列的。不需要 where,字段在 asc/desc 前面。
order by 字句后面可以跟单个字段、多个字段、表达式、别名、函数。
order by 字句一般放到查询结果的最后面。limit 字句除外。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#asc 可以省略
select * from employees order by salary desc/（asc）;

#查询工资大于12000并按照入职时间降序排列

select * from employees where salary &gt;12000 order by hiredate desc;

# 查询员工的信息和年薪并按照年薪的升序排序
select *,(1+ifnull(commission_pct,0))*salary as 年薪 from employees order by  (1+ifnull(commission_pct,0))*salary asc;


# 上面的例子可以用按别名排序

select *,(1+ifnull(commission_pct,0))*salary as 年薪 from employees order by  年薪 asc;


#查询员工的姓名和工资按姓名的长度升序排列

select salary,last_name,length(last_name) as length from employees order by length asc;



#查询所有员工的信息，按照工资从低到高，入职时间逆序排列。

select * from employees order by salary asc,hiredate desc;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h3 id="mysql-常用函数"><a href="#mysql-常用函数" class="header-anchor">#</a> mysql 常用函数</h3> <p>单行函数和分组函数。</p> <p>单行函数：函数接受一个或者多个参数 ，最终会有一个函数值，作用于一行。
ifnull(),concat()</p> <p>分组函数：传入一组值，最终返回一个值。又称为统计函数或者聚合函数。作用于多行。
sum,count,avg.</p> <p>1.字符函数</p> <h4 id="length"><a href="#length" class="header-anchor">#</a> length</h4> <p>返回字符串所占用的字节数(和说使用的字符集有关系)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>#查看字符集
show variables like '%char%';
#  使用length返回字节长度
select length(&quot;hello 北京&quot;) as 'length'; // 12
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="concat"><a href="#concat" class="header-anchor">#</a> concat()</h4> <p>拼接多个字符串</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select concat(first_name,'-',last_name)  as 姓名 from employees;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="upper-lower"><a href="#upper-lower" class="header-anchor">#</a> upper,lower</h4> <div class="language- line-numbers-mode"><pre class="language-text"><code>select upper('john') // JOH0N

select lower('joHN') // john

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="substr-substring"><a href="#substr-substring" class="header-anchor">#</a> substr,substring</h4> <p>两个函数是一样，字符串的下标是从 1 开始的，第二个参数是截取的开始位置。第三个参数是截取的字符个数。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
select substring(&quot;hello&quot;,3) as 'len'; // llo

select substring(&quot;hello&quot;,1,3) as 'len';//hel
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="instr"><a href="#instr" class="header-anchor">#</a> instr</h4> <p>返回子串开始的下标，找不到返回 0.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select instr('hello wolrd','lr') as 'index';
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="trim"><a href="#trim" class="header-anchor">#</a> trim</h4> <p>默认是去除字符两个的空格，但是可以去除字符两边的其他字符。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select trim(&quot; hello      &quot;) as 'str';// hello

#去除其他的字符
select trim('aa'from &quot;aaaHelloaaa&quot;) as 'str'; // aHelloa

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="lpad、rpad"><a href="#lpad、rpad" class="header-anchor">#</a> lpad、rpad</h4> <p>左填充和右填充:当字符大于要填充的字符会被截断</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select lpad('li', 10,'***') as 'name'; // ********li

select rpad('li',10,'***') as 'name';// li********
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="replace"><a href="#replace" class="header-anchor">#</a> replace</h4> <p>全局替换子串中的特地昂字符。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select replace('aaabbbaaa','a','c') as 'str'; //cccbbbccc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/leetcode/link.html" class="prev">
        链表反序
      </a></span> <span class="next"><a href="/mysql/mysql02.html">
        mysql 的使用（2）
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8d948694.js" defer></script><script src="/assets/js/2.a2e5091a.js" defer></script><script src="/assets/js/15.e867d47b.js" defer></script>
  </body>
</html>
