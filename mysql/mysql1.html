<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql 的使用（一） | yiluhuakai</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.775e5fee.css" as="style"><link rel="preload" href="/assets/js/app.6fb23a83.js" as="script"><link rel="preload" href="/assets/js/2.b22280cb.js" as="script"><link rel="preload" href="/assets/js/61.805588a2.js" as="script"><link rel="prefetch" href="/assets/js/10.40461a30.js"><link rel="prefetch" href="/assets/js/11.d103858e.js"><link rel="prefetch" href="/assets/js/12.4232f768.js"><link rel="prefetch" href="/assets/js/13.b3734304.js"><link rel="prefetch" href="/assets/js/14.f2386497.js"><link rel="prefetch" href="/assets/js/15.308a89ff.js"><link rel="prefetch" href="/assets/js/16.db389cec.js"><link rel="prefetch" href="/assets/js/17.cf828fcb.js"><link rel="prefetch" href="/assets/js/18.899e9438.js"><link rel="prefetch" href="/assets/js/19.580699e9.js"><link rel="prefetch" href="/assets/js/20.332c8709.js"><link rel="prefetch" href="/assets/js/21.375795c8.js"><link rel="prefetch" href="/assets/js/22.50502a93.js"><link rel="prefetch" href="/assets/js/23.687897f9.js"><link rel="prefetch" href="/assets/js/24.ebc77e7a.js"><link rel="prefetch" href="/assets/js/25.337c6ea9.js"><link rel="prefetch" href="/assets/js/26.e762b5ea.js"><link rel="prefetch" href="/assets/js/27.13464cd3.js"><link rel="prefetch" href="/assets/js/28.523d766a.js"><link rel="prefetch" href="/assets/js/29.3987be3f.js"><link rel="prefetch" href="/assets/js/3.de1a5954.js"><link rel="prefetch" href="/assets/js/30.ff074f82.js"><link rel="prefetch" href="/assets/js/31.44d32a6e.js"><link rel="prefetch" href="/assets/js/32.b9b36b40.js"><link rel="prefetch" href="/assets/js/33.abe84780.js"><link rel="prefetch" href="/assets/js/34.2fb44918.js"><link rel="prefetch" href="/assets/js/35.a3098855.js"><link rel="prefetch" href="/assets/js/36.05c89a1c.js"><link rel="prefetch" href="/assets/js/37.27eda115.js"><link rel="prefetch" href="/assets/js/38.1dff405e.js"><link rel="prefetch" href="/assets/js/39.35c28552.js"><link rel="prefetch" href="/assets/js/4.e26bf81a.js"><link rel="prefetch" href="/assets/js/40.6405a5c2.js"><link rel="prefetch" href="/assets/js/41.34a3cdb8.js"><link rel="prefetch" href="/assets/js/42.18986dd4.js"><link rel="prefetch" href="/assets/js/43.7fdfe078.js"><link rel="prefetch" href="/assets/js/44.283ea1af.js"><link rel="prefetch" href="/assets/js/45.6778b0eb.js"><link rel="prefetch" href="/assets/js/46.c9d8e532.js"><link rel="prefetch" href="/assets/js/47.74ec33ae.js"><link rel="prefetch" href="/assets/js/48.e6419c54.js"><link rel="prefetch" href="/assets/js/49.a850af05.js"><link rel="prefetch" href="/assets/js/5.ce8ed43a.js"><link rel="prefetch" href="/assets/js/50.7a85f1c4.js"><link rel="prefetch" href="/assets/js/51.e050e509.js"><link rel="prefetch" href="/assets/js/52.4e95e579.js"><link rel="prefetch" href="/assets/js/53.2c1823d9.js"><link rel="prefetch" href="/assets/js/54.dd273805.js"><link rel="prefetch" href="/assets/js/55.ef337569.js"><link rel="prefetch" href="/assets/js/56.f0e79429.js"><link rel="prefetch" href="/assets/js/57.eab487a7.js"><link rel="prefetch" href="/assets/js/58.3060e802.js"><link rel="prefetch" href="/assets/js/59.a7db315a.js"><link rel="prefetch" href="/assets/js/6.a3856d53.js"><link rel="prefetch" href="/assets/js/60.99117954.js"><link rel="prefetch" href="/assets/js/62.bb5d85a6.js"><link rel="prefetch" href="/assets/js/7.02b760da.js"><link rel="prefetch" href="/assets/js/8.78eceb25.js"><link rel="prefetch" href="/assets/js/9.196b0b91.js">
    <link rel="stylesheet" href="/assets/css/0.styles.775e5fee.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">yiluhuakai</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/golang/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/mysql/" class="nav-link router-link-active">
  Mysql
</a></div><div class="nav-item"><a href="/clang/" class="nav-link">
  C语言
</a></div><div class="nav-item"><a href="/es/" class="nav-link">
  前端
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  LeetCode
</a></div><div class="nav-item"><a href="/golang/" class="nav-link">
  Go
</a></div><div class="nav-item"><a href="/mysql/" class="nav-link router-link-active">
  Mysql
</a></div><div class="nav-item"><a href="/clang/" class="nav-link">
  C语言
</a></div><div class="nav-item"><a href="/es/" class="nav-link">
  前端
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/mysql/mysql1.html" aria-current="page" class="active sidebar-link">mysql 的使用（一）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#一、启动-mysql-服务" class="sidebar-link">一、启动 mysql 服务</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#二、通过命令行连接-mysql" class="sidebar-link">二、通过命令行连接 mysql</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#三、常用的-mysql-指令" class="sidebar-link">三、常用的 mysql 指令</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#四、修改-mysql-的配置" class="sidebar-link">四、修改 mysql 的配置</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#五、mysql-语法规范" class="sidebar-link">五、mysql 语法规范</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#六、sql-中的分类" class="sidebar-link">六、sql 中的分类</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#七、dql" class="sidebar-link">七、DQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#select-查询对象-from-table" class="sidebar-link" style="padding-left:3rem;">select 查询对象 [from table];</a></li><li class="sidebar-sub-header"><a href="/mysql/mysql1.html#mysql-常用函数" class="sidebar-link" style="padding-left:3rem;">mysql 常用函数</a></li></ul></li></ul></li><li><a href="/mysql/mysql2.html" class="sidebar-link">mysql 的使用（2）</a><ul class="sidebar-sub-headers"></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="mysql-的使用-一"><a href="#mysql-的使用-一" class="header-anchor">#</a> mysql 的使用（一）</h3> <h2 id="一、启动-mysql-服务"><a href="#一、启动-mysql-服务" class="header-anchor">#</a> 一、启动 mysql 服务</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#windows</span>
net stop mysql
net start mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#macos</span>

<span class="token comment">#通过homebrew</span>
brew services list  // 查看服务列表

brew services restart  mysql // 重启mysql

brew services stop mysql // 关闭mysql

brew services start mysql // 启动mysql服务

<span class="token comment">#使用mysql命令</span>
mysql.server start/stop/restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="二、通过命令行连接-mysql"><a href="#二、通过命令行连接-mysql" class="header-anchor">#</a> 二、通过命令行连接 mysql</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#连接</span>
mysql <span class="token punctuation">[</span>-h localhost<span class="token punctuation">]</span> <span class="token punctuation">[</span>-P <span class="token number">3306</span><span class="token punctuation">]</span> -u root -p <span class="token punctuation">[</span>password<span class="token punctuation">]</span>

<span class="token comment">#退出</span>
exit或者ctrl+C
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="三、常用的-mysql-指令"><a href="#三、常用的-mysql-指令" class="header-anchor">#</a> 三、常用的 mysql 指令</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#查看所有的数据库</span>
mysql<span class="token operator">&gt;</span>show databases

<span class="token comment"># 使用一个数据库</span>

mysql<span class="token operator">&gt;</span>use database

<span class="token comment"># 查看当前数据库下的表</span>
mysql<span class="token operator">&gt;</span>show tables


<span class="token comment">#查看其他数据库的表</span>
mysql<span class="token operator">&gt;</span>show tables from database

<span class="token comment">#查看表结构</span>
mysql<span class="token operator">&gt;</span>desc table


<span class="token comment">#查看mysql的版本</span>
mysql<span class="token operator">&gt;</span>select version<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">#命令行中</span>
<span class="token variable">$mysql</span> -V


<span class="token comment">#创建表</span>

mysql<span class="token operator">&gt;</span>create table tableName<span class="token punctuation">(</span>
<span class="token function">id</span> int primary key,
<span class="token comment">#最后一行不需要逗号</span>
name varchar<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>engine <span class="token operator">=</span>InnoDB default charset <span class="token operator">=</span> utf8<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h2 id="四、修改-mysql-的配置"><a href="#四、修改-mysql-的配置" class="header-anchor">#</a> 四、修改 mysql 的配置</h2> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> <span class="token comment">#windows</span>
 安装目录下的my.ini文件，修改后需要重新启动mysql服务

 <span class="token comment">#macos</span>
 my.cnf默认不存在，需要手动创建。mysql启动的时候会从下面的路径查找配置文件

 <span class="token comment">#返回查找配置文件的路径</span>
 mysql --help<span class="token operator">|</span><span class="token function">grep</span> <span class="token string">'my.cnf'</span>

 order of preference, my.cnf, <span class="token variable">$MYSQL_TCP_PORT</span>,
/etc/my.cnf /etc/mysql/my.cnf /usr/local/etc/my.cnf ~/.my.cnf
<span class="token function">sudo</span> <span class="token function">vim</span>  /etc/my.cnf
<span class="token comment">#将配置粘贴进去保存退出</span>

<span class="token comment">#修改/etc/my.cnf的权限</span>
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">664</span> my.cnf

<span class="token comment">#重启服务</span>
mysql.server restart
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>配置内容</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># Example MySQL config file for small systems.</span>
<span class="token comment">#</span>
<span class="token comment"># This is for a system with little memory (&lt;= 64M) where MySQL is only used</span>
<span class="token comment"># from time to time and it's important that the mysqld daemon</span>
<span class="token comment"># doesn't use much resources.</span>
<span class="token comment">#</span>
<span class="token comment"># MySQL programs look for option files in a set of</span>
<span class="token comment"># locations which depend on the deployment platform.</span>
<span class="token comment"># You can copy this option file to one of those</span>
<span class="token comment"># locations. For information about these locations, see:</span>
<span class="token comment"># http://dev.mysql.com/doc/mysql/en/option-files.html</span>
<span class="token comment">#</span>
<span class="token comment"># In this file, you can use all long options that a program supports.</span>
<span class="token comment"># If you want to know which options a program supports, run the program</span>
<span class="token comment"># with the &quot;--help&quot; option.</span>

<span class="token comment"># The following options will be passed to all MySQL clients</span>
<span class="token punctuation">[</span>client<span class="token punctuation">]</span>
default-character-set<span class="token operator">=</span>utf8
<span class="token comment">#password   = your_password</span>
port        <span class="token operator">=</span> <span class="token number">3306</span>
socket      <span class="token operator">=</span> /tmp/mysql.sock

<span class="token comment"># Here follows entries for some specific programs</span>

<span class="token comment"># The MySQL server</span>
<span class="token punctuation">[</span>mysqld<span class="token punctuation">]</span>
default-storage-engine<span class="token operator">=</span>INNODB
character-set-server<span class="token operator">=</span>utf8
collation-server<span class="token operator">=</span>utf8_general_ci
port        <span class="token operator">=</span> <span class="token number">3306</span>
socket      <span class="token operator">=</span> /tmp/mysql.sock
skip-external-locking
key_buffer_size <span class="token operator">=</span> 16K
max_allowed_packet <span class="token operator">=</span> 1M
table_open_cache <span class="token operator">=</span> <span class="token number">4</span>
sort_buffer_size <span class="token operator">=</span> 64K
read_buffer_size <span class="token operator">=</span> 256K
read_rnd_buffer_size <span class="token operator">=</span> 256K
net_buffer_length <span class="token operator">=</span> 2K
thread_stack <span class="token operator">=</span> 128K

<span class="token comment"># Don't listen on a TCP/IP port at all. This can be a security enhancement,</span>
<span class="token comment"># if all processes that need to connect to mysqld run on the same host.</span>
<span class="token comment"># All interaction with mysqld must be made via Unix sockets or named pipes.</span>
<span class="token comment"># Note that using this option without enabling named pipes on Windows</span>
<span class="token comment"># (using the &quot;enable-named-pipe&quot; option) will render mysqld useless!</span>
<span class="token comment">#</span>
<span class="token comment">#skip-networking</span>
server-id   <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment"># Uncomment the following if you want to log updates</span>
<span class="token comment">#log-bin=mysql-bin</span>

<span class="token comment"># binary logging format - mixed recommended</span>
<span class="token comment">#binlog_format=mixed</span>

<span class="token comment"># Causes updates to non-transactional engines using statement format to be</span>
<span class="token comment"># written directly to binary log. Before using this option make sure that</span>
<span class="token comment"># there are no dependencies between transactional and non-transactional</span>
<span class="token comment"># tables such as in the statement INSERT INTO t_myisam SELECT * FROM</span>
<span class="token comment"># t_innodb; otherwise, slaves may diverge from the master.</span>
<span class="token comment">#binlog_direct_non_transactional_updates=TRUE</span>

<span class="token comment"># Uncomment the following if you are using InnoDB tables</span>
<span class="token comment">#innodb_data_home_dir = /usr/local/mysql/data</span>
<span class="token comment">#innodb_data_file_path = ibdata1:10M:autoextend</span>
<span class="token comment">#innodb_log_group_home_dir = /usr/local/mysql/data</span>
<span class="token comment"># You can set .._buffer_pool_size up to 50 - 80 %</span>
<span class="token comment"># of RAM but beware of setting memory usage too high</span>
<span class="token comment">#innodb_buffer_pool_size = 16M</span>
<span class="token comment">#innodb_additional_mem_pool_size = 2M</span>
<span class="token comment"># Set .._log_file_size to 25 % of buffer pool size</span>
<span class="token comment">#innodb_log_file_size = 5M</span>
<span class="token comment">#innodb_log_buffer_size = 8M</span>
<span class="token comment">#innodb_flush_log_at_trx_commit = 1</span>
<span class="token comment">#innodb_lock_wait_timeout = 50</span>

<span class="token punctuation">[</span>mysqldump<span class="token punctuation">]</span>
quick
max_allowed_packet <span class="token operator">=</span> 16M

<span class="token punctuation">[</span>mysql<span class="token punctuation">]</span>
no-auto-rehash
<span class="token comment"># Remove the next comment character if you are not familiar with SQL</span>
<span class="token comment">#safe-updates</span>

<span class="token punctuation">[</span>myisamchk<span class="token punctuation">]</span>
key_buffer_size <span class="token operator">=</span> 8M
sort_buffer_size <span class="token operator">=</span> 8M

<span class="token punctuation">[</span>mysqlhotcopy<span class="token punctuation">]</span>
interactive-timeout
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div><h2 id="五、mysql-语法规范"><a href="#五、mysql-语法规范" class="header-anchor">#</a> 五、mysql 语法规范</h2> <ol><li><p>不区分大小写，但是建议关键字大写，列名和表名小写。</p></li> <li><p>每条语句最好用分号结尾。</p></li> <li><p>每条语句可以根据需要换行缩进。</p></li> <li><p>注释</p> <ul><li>单行注释：#注释内容</li> <li>单行注释：-- 注释内容（中间有空格）</li> <li>多行注释：/_ 注释文字_/</li> <li>eg:mysql&gt;#select * from user;// 这条语句被注释，执行后没有任何效果。</li></ul></li></ol> <h2 id="六、sql-中的分类"><a href="#六、sql-中的分类" class="header-anchor">#</a> 六、sql 中的分类</h2> <ol><li>SQL（Structure Query Language）结构化查询语言</li> <li>DQL（data query language）数据查询语言 select 操作</li> <li>DML（data manipulation language）数据操作语言，主要是数据库增删改三种操作</li> <li>DDL（data defination language）数据库定义语言，主要是建表、删除表、修改表字段等操作</li> <li>DCL（data control language）数据库控制语言，如 commit，revoke 之类的，在默认状态下，只有 sysadmin,dbcreator,db_owner 或 db_securityadmin 等人员才有权力执行 DCL</li></ol> <h2 id="七、dql"><a href="#七、dql" class="header-anchor">#</a> 七、DQL</h2> <h4 id="select-查询对象-from-table"><a href="#select-查询对象-from-table" class="header-anchor">#</a> select 查询对象 [from table];</h4> <p>查询的对象可以可以是表格的字段，一个常量或者表达式，一个函数。查询的结果将以一个虚拟的表格输出。表格中的列名是字段名、常量和表达式、函数.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#建议先指定所使用的数据库</span>
<span class="token keyword">use</span> myemployees<span class="token punctuation">;</span>
<span class="token comment">#单个字段的查询</span>
<span class="token keyword">select</span> first_name <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token comment">#查询多个字段</span>
<span class="token keyword">select</span> first_name<span class="token punctuation">,</span>last_name <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token comment"># 查询所有的字段</span>
<span class="token keyword">select</span> first_name<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>salary<span class="token punctuation">,</span>hiredate <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
<span class="token comment">#还可以使用* (*中代表的字段顺序和表格的字段顺序一致)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment"># 查询常量</span>

<span class="token keyword">select</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 列名为100切有一行数据为100</span>
<span class="token keyword">select</span> <span class="token number">100</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span><span class="token comment">//列名为100且输出总数100条，内容也为100</span>

<span class="token comment"># 查询一个表达式</span>
<span class="token keyword">select</span> <span class="token number">100</span><span class="token operator">*</span><span class="token number">98</span><span class="token punctuation">;</span>
<span class="token keyword">select</span>  salary <span class="token operator">*</span> <span class="token number">12</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment"># 查询一个函数</span>
<span class="token keyword">select</span> version<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>当查询的字段中包含有关键字的时候，可以使用着重符(`)将关键字转为字段。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询的结果输出时，表格的列名可能是常量、表达式、函数名、字段名。有时候可读性不好。可以使用 as 给他们起一个别名。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># 别名</span>
<span class="token keyword">select</span> first_name <span class="token keyword">as</span> 名<span class="token punctuation">,</span>last_name <span class="token keyword">as</span> 姓 <span class="token keyword">from</span> employees<span class="token punctuation">;</span>

<span class="token comment"># 当别名有关键字或者中间有空格时，可以使用单引号或者双引号引起来。</span>

<span class="token keyword">select</span> salary <span class="token keyword">as</span> <span class="token string">&quot;out put&quot;</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用 distict 对查询结果去重</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">distinct</span> department_id <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>加号运算符和 concat(a,b)函数.</p> <ol><li><p>加号的两边数字，相当于查询一个数字常量：
select 10+20 ==&gt; select 30;</p></li> <li><p>当一边是数字一边是字符串时，字符串可以被转化为数字。相当于查询一个数字常量。
select 10+'30' ==&gt; select 40;</p></li> <li><p>当一边是数字一边是字符串时，字符串不可以被转化为数字时，会将字符串转为数字 0.
select 10+'john' ==&gt; select 10;</p></li> <li><p>当一边为 null 时，相当于查询 null</p> <p>select 1+null ==&gt; select null;</p></li></ol> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># select 30 from employees;</span>
<span class="token keyword">select</span> <span class="token number">10</span><span class="token operator">+</span><span class="token number">20</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果相见查询的多个字段（大于等于 2）连接起来，可以使用 concat().</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> concat<span class="token punctuation">(</span>first_name<span class="token punctuation">,</span><span class="token string">' '</span><span class="token punctuation">,</span>last_name<span class="token punctuation">)</span> <span class="token keyword">as</span> 姓名 <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>会讲 first_name 和 last_name 用空格连接起来作为姓名列的结果输出。</p> <p>ifnull()函数可以用来给字段默认值。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>  ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">as</span> 奖金率<span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>当 commission_pct 列中的值为 null,奖金率中的只为 0.</p> <p>concat 函数会吧多个字段连接成一个新的字段输出，当其中一个字段为 null 时，查询结构就为 null.我们可以将 concat()函数和 ifnull()结合起来使用。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> concat<span class="token punctuation">(</span>first_name<span class="token punctuation">,</span>ifnull<span class="token punctuation">(</span>last_name<span class="token punctuation">,</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>条件查询</li></ul> <p>select 查询列表 from table where 条件；</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>简单的条件查询：<span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token operator">&lt;</span><span class="token punctuation">,</span><span class="token operator">=</span><span class="token punctuation">,</span><span class="token operator">!=</span><span class="token punctuation">,</span><span class="token operator">&lt;&gt;</span><span class="token punctuation">(</span>相当于<span class="token operator">!=</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">&gt;=</span><span class="token punctuation">,</span><span class="token operator">&lt;=</span>

逻辑运算符：<span class="token operator">and</span><span class="token punctuation">(</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">)</span> <span class="token punctuation">,</span><span class="token operator">or</span><span class="token punctuation">(</span><span class="token operator">||</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token operator">not</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">)</span>

模糊查询：<span class="token operator">like</span>、<span class="token operator">in</span>、<span class="token operator">between</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token operator">and</span> <span class="token punctuation">.</span><span class="token punctuation">.</span> 、<span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>简单的条件查询</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token number">12000</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> last_name<span class="token punctuation">,</span>department_id <span class="token keyword">from</span> employees <span class="token keyword">where</span> department_id <span class="token operator">&lt;&gt;</span> <span class="token number">90</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>使用运算符可以将多个查询条件连接起来</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">&gt;</span><span class="token number">1200</span> <span class="token operator">and</span> department_id <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">&gt;</span><span class="token number">1200</span> <span class="token operator">or</span> department_id <span class="token operator">=</span> <span class="token number">90</span><span class="token punctuation">;</span>
<span class="token comment"># salary &lt;=12000</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> <span class="token operator">not</span> salary <span class="token operator">&gt;</span><span class="token number">12000</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>like 和通配符进行模糊查询</p> <ul><li>通配符：%,*</li> <li>%代表任意多个字符，包括 0 个字符</li> <li>*代表一个字符</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code># 查询last_name第二个字母是a/A的所有记录。
select  * from employees where last_name like '_a%'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>当需要查询的字段中含有字符_’时，可以使用转义字符为\或者自定义转义字符。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>  <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">'K\_ing%'</span><span class="token punctuation">;</span>
<span class="token comment">#指定$作为转义字符</span>
<span class="token keyword">select</span>  <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> last_name <span class="token operator">like</span> <span class="token string">'K$_ing%'</span> <span class="token keyword">escape</span> <span class="token string">'$'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>between...and...</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">between</span> <span class="token number">12000</span> <span class="token operator">and</span> <span class="token number">20000</span><span class="token punctuation">;</span>
<span class="token comment">#和下面的语句等价</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">&gt;=</span><span class="token number">12000</span> <span class="token operator">and</span> salary <span class="token operator">&lt;=</span><span class="token number">20000</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>between... and ...包含两个临界值，且两个临界值顺序不能颠倒。</p></div> <p>in 可以一次匹配同一字段的多个值。值的类型应该和字段的类型一致，否则没有意义。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> job_id  <span class="token operator">=</span> <span class="token string">'AD_VP'</span> <span class="token operator">or</span> job_id <span class="token operator">=</span> <span class="token string">'AC_MGR'</span> <span class="token operator">or</span> job_id <span class="token operator">=</span><span class="token number">100</span><span class="token punctuation">;</span>

<span class="token comment">#相当于 上面的查询语句</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> job_id <span class="token operator">in</span><span class="token punctuation">(</span><span class="token string">'AD_VP'</span><span class="token punctuation">,</span><span class="token string">'AC_MGR'</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>= 和 &lt;&gt;不能判断 null,我们需要查询某个字段为 null 时，可以使用 is null,不为 null,使用 is not null;</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>安全等于 &lt;=&gt;</p> <p>安全等于几可以判断 null 又可以判断普通值，相当于 = 和 is null 的结合体。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span>  <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> commission_pct <span class="token operator">&lt;=&gt;</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token keyword">select</span>  <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">&lt;=&gt;</span> <span class="token number">12000</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>isnull(exp)</p> <p>当数据库中有这个字段不为 null 时返回 1，否则返回 0.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> isnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">)</span><span class="token punctuation">,</span>commission_pct <span class="token keyword">from</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询结果是否一样</p> <p>select * from employees;</p> <p>select * from employees where commisson_pct like &quot;%%&quot;;</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>当 commission_pct 中有 null 时，结果不一样，没有 null 时，查询结果一样。</p></div> <ul><li>排序查询</li></ul> <p>asc(ascending order)/ （descending order）
默认使用升序排列的。不需要 where,字段在 asc/desc 前面。
order by 字句后面可以跟单个字段、多个字段、表达式、别名、函数。
order by 字句一般放到查询结果的最后面。limit 字句除外。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#asc 可以省略</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">desc</span><span class="token operator">/</span>（<span class="token keyword">asc</span>）<span class="token punctuation">;</span>

<span class="token comment">#查询工资大于12000并按照入职时间降序排列</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">where</span> salary <span class="token operator">&gt;</span><span class="token number">12000</span> <span class="token keyword">order</span> <span class="token keyword">by</span> hiredate <span class="token keyword">desc</span><span class="token punctuation">;</span>

<span class="token comment"># 查询员工的信息和年薪并按照年薪的升序排序</span>
<span class="token keyword">select</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>salary <span class="token keyword">as</span> 年薪 <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span>  <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>salary <span class="token keyword">asc</span><span class="token punctuation">;</span>


<span class="token comment"># 上面的例子可以用按别名排序</span>

<span class="token keyword">select</span> <span class="token operator">*</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">+</span>ifnull<span class="token punctuation">(</span>commission_pct<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span>salary <span class="token keyword">as</span> 年薪 <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span>  年薪 <span class="token keyword">asc</span><span class="token punctuation">;</span>


<span class="token comment">#查询员工的姓名和工资按姓名的长度升序排列</span>

<span class="token keyword">select</span> salary<span class="token punctuation">,</span>last_name<span class="token punctuation">,</span>length<span class="token punctuation">(</span>last_name<span class="token punctuation">)</span> <span class="token keyword">as</span> length <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span> length <span class="token keyword">asc</span><span class="token punctuation">;</span>



<span class="token comment">#查询所有员工的信息，按照工资从低到高，入职时间逆序排列。</span>

<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">order</span> <span class="token keyword">by</span> salary <span class="token keyword">asc</span><span class="token punctuation">,</span>hiredate <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h4 id="mysql-常用函数"><a href="#mysql-常用函数" class="header-anchor">#</a> mysql 常用函数</h4> <p>单行函数和分组函数。</p> <p>单行函数：函数接受一个或者多个参数 ，最终会有一个函数值，作用于一行。
ifnull(),concat()</p> <p>分组函数：传入一组值，最终返回一个值。又称为统计函数或者聚合函数。作用于多行。
sum,count,avg.</p> <ol><li>字符函数</li></ol> <ul><li>length 返回字符串所占用的字节数(和说使用的字符集有关系)</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#查看字符集</span>
<span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'%char%'</span><span class="token punctuation">;</span>
<span class="token comment">#  使用length返回字节长度</span>
<span class="token keyword">select</span> length<span class="token punctuation">(</span><span class="token string">&quot;hello 北京&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'length'</span><span class="token punctuation">;</span> <span class="token comment">// 12</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>concat() 拼接多个字符串</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> concat<span class="token punctuation">(</span>first_name<span class="token punctuation">,</span><span class="token string">'-'</span><span class="token punctuation">,</span>last_name<span class="token punctuation">)</span>  <span class="token keyword">as</span> 姓名 <span class="token keyword">from</span> employees<span class="token punctuation">;</span>s
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>upper,lower</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> upper<span class="token punctuation">(</span><span class="token string">'john'</span><span class="token punctuation">)</span> <span class="token comment">// JOH0N</span>

<span class="token keyword">select</span> lower<span class="token punctuation">(</span><span class="token string">'joHN'</span><span class="token punctuation">)</span> <span class="token comment">// john</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>substr,substring</li></ul> <p>两个函数是一样，字符串的下标是从 1 开始的，第二个参数是截取的开始位置。第三个参数是截取的字符个数。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>
<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'len'</span><span class="token punctuation">;</span> <span class="token comment">// llo</span>

<span class="token keyword">select</span> substring<span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'len'</span><span class="token punctuation">;</span><span class="token comment">//hel</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>instr</li></ul> <p>返回子串开始的下标，找不到返回 0.</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> instr<span class="token punctuation">(</span><span class="token string">'hello wolrd'</span><span class="token punctuation">,</span><span class="token string">'lr'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'index'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>trim 默认是去除字符两个的空格，但是可以去除字符两边的其他字符。</li></ul> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> trim<span class="token punctuation">(</span><span class="token string">&quot; hello      &quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'str'</span><span class="token punctuation">;</span><span class="token comment">// hello</span>

<span class="token comment">#去除其他的字符</span>
<span class="token keyword">select</span> trim<span class="token punctuation">(</span><span class="token string">'aa'</span> <span class="token keyword">from</span> <span class="token string">&quot;aaaHelloaaa&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'str'</span><span class="token punctuation">;</span> <span class="token comment">// aHelloa</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>lpad、rpad</li></ul> <p>左填充和右填充:当字符大于要填充的字符会被截断</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> lpad<span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'***'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'name'</span><span class="token punctuation">;</span> <span class="token comment">// ********li</span>

<span class="token keyword">select</span> rpad<span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'***'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'name'</span><span class="token punctuation">;</span><span class="token comment">// li********</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>replace</li></ul> <p>全局替换子串中的特定的字符。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token keyword">replace</span><span class="token punctuation">(</span><span class="token string">'aaabbbaaa'</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'str'</span><span class="token punctuation">;</span> <span class="token comment">//cccbbbccc</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/8/2021, 2:52:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/mysql/mysql2.html">
        mysql 的使用（2）
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6fb23a83.js" defer></script><script src="/assets/js/2.b22280cb.js" defer></script><script src="/assets/js/61.805588a2.js" defer></script>
  </body>
</html>
